<?xml version="1.0" encoding="UTF-8"?>
<POWERMART>
  <REPOSITORY NAME="Demo_Repo" VERSION="181.0">
    <FOLDER NAME="Demo_Folder" OWNER="Admin" SHARED="NOTSHARED">

      <!-- ================= SOURCE DEFINITION ================= -->
      <SOURCE NAME="SRC_CUSTOMER" DATABASETYPE="Oracle">
        <SOURCEFIELD NAME="CUSTOMER_ID" DATATYPE="NUMBER" PRECISION="10" SCALE="0"/>
        <SOURCEFIELD NAME="CUSTOMER_NAME" DATATYPE="VARCHAR2" PRECISION="100"/>
        <SOURCEFIELD NAME="COUNTRY" DATATYPE="VARCHAR2" PRECISION="50"/>
        <SOURCEFIELD NAME="UPDATED_TS" DATATYPE="DATE"/>
      </SOURCE>

      <!-- ================= TARGET DEFINITION ================= -->
      <TARGET NAME="TGT_CUSTOMER_NEPL" DATABASETYPE="Snowflake">
        <TARGETFIELD NAME="CUSTOMER_ID" DATATYPE="NUMBER"/>
        <TARGETFIELD NAME="CUSTOMER_NAME" DATATYPE="VARCHAR2"/>
        <TARGETFIELD NAME="COUNTRY" DATATYPE="VARCHAR2"/>
        <TARGETFIELD NAME="UPDATED_TS" DATATYPE="DATE"/>
      </TARGET>

      <!-- ================= MAPPING ================= -->
      <MAPPING NAME="m_Load_Customer_Nepal">

        <!-- Source Instance -->
        <INSTANCE NAME="SRC_CUSTOMER"
                  TRANSFORMATION_TYPE="Source Definition"
                  TRANSFORMATION_NAME="SRC_CUSTOMER"/>

        <!-- Filter Transformation -->
        <TRANSFORMATION NAME="FIL_COUNTRY" TYPE="Filter">
          <TRANSFORMFIELD NAME="CUSTOMER_ID" DATATYPE="NUMBER"/>
          <TRANSFORMFIELD NAME="CUSTOMER_NAME" DATATYPE="VARCHAR2"/>
          <TRANSFORMFIELD NAME="COUNTRY" DATATYPE="VARCHAR2"/>
          <TRANSFORMFIELD NAME="UPDATED_TS" DATATYPE="DATE"/>

          <!-- Filter condition -->
          <TABLEATTRIBUTE NAME="Filter Condition" VALUE="COUNTRY = 'Nepal'"/>
        </TRANSFORMATION>

        <!-- Target Instance -->
        <INSTANCE NAME="TGT_CUSTOMER_NEPL"
                  TRANSFORMATION_TYPE="Target Definition"
                  TRANSFORMATION_NAME="TGT_CUSTOMER_NEPL"/>

        <!-- Connectors -->
        <CONNECTOR FROMINSTANCE="SRC_CUSTOMER" FROMFIELD="CUSTOMER_ID"
                   TOINSTANCE="FIL_COUNTRY" TOFIELD="CUSTOMER_ID"/>
        <CONNECTOR FROMINSTANCE="SRC_CUSTOMER" FROMFIELD="CUSTOMER_NAME"
                   TOINSTANCE="FIL_COUNTRY" TOFIELD="CUSTOMER_NAME"/>
        <CONNECTOR FROMINSTANCE="SRC_CUSTOMER" FROMFIELD="COUNTRY"
                   TOINSTANCE="FIL_COUNTRY" TOFIELD="COUNTRY"/>
        <CONNECTOR FROMINSTANCE="SRC_CUSTOMER" FROMFIELD="UPDATED_TS"
                   TOINSTANCE="FIL_COUNTRY" TOFIELD="UPDATED_TS"/>

        <CONNECTOR FROMINSTANCE="FIL_COUNTRY" FROMFIELD="CUSTOMER_ID"
                   TOINSTANCE="TGT_CUSTOMER_NEPL" TOFIELD="CUSTOMER_ID"/>
        <CONNECTOR FROMINSTANCE="FIL_COUNTRY" FROMFIELD="CUSTOMER_NAME"
                   TOINSTANCE="TGT_CUSTOMER_NEPL" TOFIELD="CUSTOMER_NAME"/>
        <CONNECTOR FROMINSTANCE="FIL_COUNTRY" FROMFIELD="COUNTRY"
                   TOINSTANCE="TGT_CUSTOMER_NEPL" TOFIELD="COUNTRY"/>
        <CONNECTOR FROMINSTANCE="FIL_COUNTRY" FROMFIELD="UPDATED_TS"
                   TOINSTANCE="TGT_CUSTOMER_NEPL" TOFIELD="UPDATED_TS"/>

      </MAPPING>

    </FOLDER>
  </REPOSITORY>
</POWERMART>
