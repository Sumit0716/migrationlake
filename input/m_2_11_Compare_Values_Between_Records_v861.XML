<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE POWERMART SYSTEM "powrmart.dtd">
<POWERMART CREATION_DATE="07/02/2009 10:58:08" REPOSITORY_VERSION="179.88">
<REPOSITORY NAME="infa_rep" VERSION="179" CODEPAGE="MS1252" DATABASETYPE="Microsoft SQL Server">
<FOLDER NAME="MT" GROUP="" OWNER="Administrator" SHARED="NOTSHARED" DESCRIPTION="" PERMISSIONS="rwx---r--" UUID="7df419cf-e063-4571-ab34-494ebb1aa702">
    <SOURCE BUSINESSNAME ="" DATABASETYPE ="Oracle" DBDNAME ="Oracle" DESCRIPTION ="" NAME ="DEBIT" OBJECTVERSION ="1" OWNERNAME ="" VERSIONNUMBER ="1">
        <SOURCEFIELD BUSINESSNAME ="" DATATYPE ="varchar2" DESCRIPTION ="" FIELDNUMBER ="1" FIELDPROPERTY ="0" FIELDTYPE ="ELEMITEM" HIDDEN ="NO" KEYTYPE ="NOT A KEY" LENGTH ="0" LEVEL ="0" NAME ="Customer_Name" NULLABLE ="NULL" OCCURS ="0" OFFSET ="0" PHYSICALLENGTH ="30" PHYSICALOFFSET ="0" PICTURETEXT ="" PRECISION ="30" SCALE ="0" USAGE_FLAGS =""/>
        <SOURCEFIELD BUSINESSNAME ="" DATATYPE ="number" DESCRIPTION ="" FIELDNUMBER ="2" FIELDPROPERTY ="0" FIELDTYPE ="ELEMITEM" HIDDEN ="NO" KEYTYPE ="NOT A KEY" LENGTH ="24" LEVEL ="0" NAME ="Acct_Num" NULLABLE ="NULL" OCCURS ="0" OFFSET ="0" PHYSICALLENGTH ="15" PHYSICALOFFSET ="30" PICTURETEXT ="" PRECISION ="15" SCALE ="0" USAGE_FLAGS =""/>
        <SOURCEFIELD BUSINESSNAME ="" DATATYPE ="number(p,s)" DESCRIPTION ="" FIELDNUMBER ="3" FIELDPROPERTY ="0" FIELDTYPE ="ELEMITEM" HIDDEN ="NO" KEYTYPE ="NOT A KEY" LENGTH ="12" LEVEL ="0" NAME ="Amount" NULLABLE ="NULL" OCCURS ="0" OFFSET ="24" PHYSICALLENGTH ="10" PHYSICALOFFSET ="45" PICTURETEXT ="" PRECISION ="10" SCALE ="2" USAGE_FLAGS =""/>
        <SOURCEFIELD BUSINESSNAME ="" DATATYPE ="date" DESCRIPTION ="" FIELDNUMBER ="4" FIELDPROPERTY ="0" FIELDTYPE ="ELEMITEM" HIDDEN ="NO" KEYTYPE ="NOT A KEY" LENGTH ="19" LEVEL ="0" NAME ="Date_Received" NULLABLE ="NULL" OCCURS ="0" OFFSET ="36" PHYSICALLENGTH ="19" PHYSICALOFFSET ="55" PICTURETEXT ="" PRECISION ="19" SCALE ="0" USAGE_FLAGS =""/>
        <SOURCEFIELD BUSINESSNAME ="" DATATYPE ="varchar2" DESCRIPTION ="" FIELDNUMBER ="5" FIELDPROPERTY ="0" FIELDTYPE ="ELEMITEM" HIDDEN ="NO" KEYTYPE ="NOT A KEY" LENGTH ="0" LEVEL ="0" NAME ="Address" NULLABLE ="NULL" OCCURS ="0" OFFSET ="55" PHYSICALLENGTH ="100" PHYSICALOFFSET ="74" PICTURETEXT ="" PRECISION ="100" SCALE ="0" USAGE_FLAGS =""/>
    </SOURCE>
    <TARGET BUSINESSNAME ="" CONSTRAINT ="" DATABASETYPE ="Oracle" DESCRIPTION ="" NAME ="PAYMENTS" OBJECTVERSION ="1" TABLEOPTIONS ="" VERSIONNUMBER ="1">
        <TARGETFIELD BUSINESSNAME ="" DATATYPE ="number" DESCRIPTION ="" FIELDNUMBER ="1" KEYTYPE ="NOT A KEY" NAME ="Acct_Num" NULLABLE ="NULL" PICTURETEXT ="" PRECISION ="15" SCALE ="0"/>
        <TARGETFIELD BUSINESSNAME ="" DATATYPE ="number(p,s)" DESCRIPTION ="" FIELDNUMBER ="2" KEYTYPE ="NOT A KEY" NAME ="Amount" NULLABLE ="NULL" PICTURETEXT ="" PRECISION ="10" SCALE ="2"/>
        <TARGETFIELD BUSINESSNAME ="" DATATYPE ="date" DESCRIPTION ="" FIELDNUMBER ="3" KEYTYPE ="NOT A KEY" NAME ="Date_Received" NULLABLE ="NULL" PICTURETEXT ="" PRECISION ="19" SCALE ="0"/>
        <TARGETFIELD BUSINESSNAME ="" DATATYPE ="number" DESCRIPTION ="" FIELDNUMBER ="4" KEYTYPE ="NOT A KEY" NAME ="Days_Between_Payments" NULLABLE ="NULL" PICTURETEXT ="" PRECISION ="15" SCALE ="0"/>
    </TARGET>
    <MAPPING DESCRIPTION ="Uses PowerMart / PowerCenter Local Variables to compare values between consecutive records." ISVALID ="YES" NAME ="m_2_11_Compare_Values_Between_Records" OBJECTVERSION ="1" VERSIONNUMBER ="1">
        <TRANSFORMATION DESCRIPTION ="" NAME ="exp_Date_Compare" OBJECTVERSION ="1" REUSABLE ="NO" TYPE ="Expression" VERSIONNUMBER ="1">
            <TRANSFORMFIELD DATATYPE ="double" DEFAULTVALUE ="" DESCRIPTION ="" EXPRESSION ="Acct_Num" EXPRESSIONTYPE ="GENERAL" NAME ="Acct_Num" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="15" SCALE ="0"/>
            <TRANSFORMFIELD DATATYPE ="decimal" DEFAULTVALUE ="" DESCRIPTION ="" EXPRESSION ="Amount" EXPRESSIONTYPE ="GENERAL" NAME ="Amount" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="10" SCALE ="2"/>
            <TRANSFORMFIELD DATATYPE ="date/time" DEFAULTVALUE ="" DESCRIPTION ="" EXPRESSION ="Date_Received" EXPRESSIONTYPE ="GENERAL" NAME ="Date_Received" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="29" SCALE ="9"/>
            <TRANSFORMFIELD DATATYPE ="date/time" DEFAULTVALUE ="" DESCRIPTION ="This port is immediately populated with the current row&apos;s date." EXPRESSION ="Date_Received" EXPRESSIONTYPE ="GENERAL" NAME ="v_new_date" PICTURETEXT ="" PORTTYPE ="LOCAL VARIABLE" PRECISION ="29" SCALE ="9"/>
            <TRANSFORMFIELD DATATYPE ="integer" DEFAULTVALUE ="" DESCRIPTION ="The IIF statement compares the current account number to that of the previous row.  If they are not equal it indicates that this is the first row processed for a specific account.  If they are equal the date comparison is performed.  The port v_new_date has the current row&apos;s date while v_prev_date still holds the date of the previous row.  The function DATE_DIFF returns the length of time, measured in days, between two dates. It subtracts the second date from the first date and returns the difference." EXPRESSION ="IIF(Acct_Num = v_Acct_Num, DATE_DIFF(v_new_date, v_prev_date, &apos;DD&apos;), 0)" EXPRESSIONTYPE ="GENERAL" NAME ="v_Days_Between_Payments" PICTURETEXT ="" PORTTYPE ="LOCAL VARIABLE" PRECISION ="10" SCALE ="0"/>
            <TRANSFORMFIELD DATATYPE ="date/time" DEFAULTVALUE ="" DESCRIPTION ="This port is populated with the current row&apos;s date but not until after the date comparison is performed.  At the time of comparison it still holds the previous row&apos;s date." EXPRESSION ="Date_Received" EXPRESSIONTYPE ="GENERAL" NAME ="v_prev_date" PICTURETEXT ="" PORTTYPE ="LOCAL VARIABLE" PRECISION ="29" SCALE ="9"/>
            <TRANSFORMFIELD DATATYPE ="double" DEFAULTVALUE ="" DESCRIPTION ="This port is populated with the current row&apos;s account number but not until after the date comparison is performed.  At the time of comparison it still holds the previous row&apos;s account number." EXPRESSION ="Acct_Num" EXPRESSIONTYPE ="GENERAL" NAME ="v_Acct_Num" PICTURETEXT ="" PORTTYPE ="LOCAL VARIABLE" PRECISION ="15" SCALE ="0"/>
            <TRANSFORMFIELD DATATYPE ="double" DEFAULTVALUE ="ERROR(&apos;transformation error&apos;)" DESCRIPTION ="Outputs the result of the date calculation." EXPRESSION ="v_Days_Between_Payments" EXPRESSIONTYPE ="GENERAL" NAME ="Days_Between_Payments" PICTURETEXT ="" PORTTYPE ="OUTPUT" PRECISION ="15" SCALE ="0"/>
            <TABLEATTRIBUTE NAME ="Tracing Level" VALUE ="Normal"/>
        </TRANSFORMATION>
        <TRANSFORMATION DESCRIPTION ="" NAME ="SQ_DEBIT" OBJECTVERSION ="1" REUSABLE ="NO" TYPE ="Source Qualifier" VERSIONNUMBER ="1">
            <TRANSFORMFIELD DATATYPE ="string" DEFAULTVALUE ="" DESCRIPTION ="" NAME ="Customer_Name" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="30" SCALE ="0"/>
            <TRANSFORMFIELD DATATYPE ="double" DEFAULTVALUE ="" DESCRIPTION ="The account number." NAME ="Acct_Num" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="15" SCALE ="0"/>
            <TRANSFORMFIELD DATATYPE ="decimal" DEFAULTVALUE ="" DESCRIPTION ="Payment Amount" NAME ="Amount" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="10" SCALE ="2"/>
            <TRANSFORMFIELD DATATYPE ="date/time" DEFAULTVALUE ="" DESCRIPTION ="The date the payment is received." NAME ="Date_Received" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="29" SCALE ="9"/>
            <TRANSFORMFIELD DATATYPE ="string" DEFAULTVALUE ="" DESCRIPTION ="" NAME ="Address" PICTURETEXT ="" PORTTYPE ="INPUT/OUTPUT" PRECISION ="100" SCALE ="0"/>
            <TABLEATTRIBUTE NAME ="Sql Query" VALUE ="SELECT DEBIT.Acct_Num, &#xD;&#xA;DEBIT.Amount, &#xD;&#xA;DEBIT.Date_Received &#xD;&#xA;FROM DEBIT&#xD;&#xA;GROUP BY DEBIT.Acct_Num&#xD;&#xA;ORDER BY DEBIT.Date_Received"/>
            <TABLEATTRIBUTE NAME ="User Defined Join" VALUE =""/>
            <TABLEATTRIBUTE NAME ="Source Filter" VALUE =""/>
            <TABLEATTRIBUTE NAME ="Number Of Sorted Ports" VALUE ="0"/>
            <TABLEATTRIBUTE NAME ="Tracing Level" VALUE ="Normal"/>
            <TABLEATTRIBUTE NAME ="Select Distinct" VALUE ="NO"/>
            <TABLEATTRIBUTE NAME ="Is Partitionable" VALUE ="NO"/>
            <TABLEATTRIBUTE NAME ="Pre SQL" VALUE =""/>
            <TABLEATTRIBUTE NAME ="Post SQL" VALUE =""/>
            <TABLEATTRIBUTE NAME ="Output is deterministic" VALUE ="YES"/>
            <TABLEATTRIBUTE NAME ="Output is repeatable" VALUE ="Always"/>
        </TRANSFORMATION>
        <INSTANCE DESCRIPTION ="" NAME ="PAYMENTS" TRANSFORMATION_NAME ="PAYMENTS" TRANSFORMATION_TYPE ="Target Definition" TYPE ="TARGET"/>
        <INSTANCE DBDNAME ="Oracle" DESCRIPTION ="" NAME ="DEBIT" TRANSFORMATION_NAME ="DEBIT" TRANSFORMATION_TYPE ="Source Definition" TYPE ="SOURCE"/>
        <INSTANCE DESCRIPTION ="This expression transformation uses variable logic to compare values between source records." NAME ="exp_Date_Compare" REUSABLE ="NO" TRANSFORMATION_NAME ="exp_Date_Compare" TRANSFORMATION_TYPE ="Expression" TYPE ="TRANSFORMATION"/>
        <INSTANCE DESCRIPTION ="The source qualifier is important, as it is necessary to order the data on the payment date in ascending order.  This will allow the variable to compare the appropriate values." NAME ="SQ_DEBIT" REUSABLE ="NO" TRANSFORMATION_NAME ="SQ_DEBIT" TRANSFORMATION_TYPE ="Source Qualifier" TYPE ="TRANSFORMATION">
            <ASSOCIATED_SOURCE_INSTANCE NAME ="DEBIT"/>
        </INSTANCE>
        <CONNECTOR FROMFIELD ="Acct_Num" FROMINSTANCE ="exp_Date_Compare" FROMINSTANCETYPE ="Expression" TOFIELD ="Acct_Num" TOINSTANCE ="PAYMENTS" TOINSTANCETYPE ="Target Definition"/>
        <CONNECTOR FROMFIELD ="Amount" FROMINSTANCE ="exp_Date_Compare" FROMINSTANCETYPE ="Expression" TOFIELD ="Amount" TOINSTANCE ="PAYMENTS" TOINSTANCETYPE ="Target Definition"/>
        <CONNECTOR FROMFIELD ="Date_Received" FROMINSTANCE ="exp_Date_Compare" FROMINSTANCETYPE ="Expression" TOFIELD ="Date_Received" TOINSTANCE ="PAYMENTS" TOINSTANCETYPE ="Target Definition"/>
        <CONNECTOR FROMFIELD ="Days_Between_Payments" FROMINSTANCE ="exp_Date_Compare" FROMINSTANCETYPE ="Expression" TOFIELD ="Days_Between_Payments" TOINSTANCE ="PAYMENTS" TOINSTANCETYPE ="Target Definition"/>
        <CONNECTOR FROMFIELD ="Customer_Name" FROMINSTANCE ="DEBIT" FROMINSTANCETYPE ="Source Definition" TOFIELD ="Customer_Name" TOINSTANCE ="SQ_DEBIT" TOINSTANCETYPE ="Source Qualifier"/>
        <CONNECTOR FROMFIELD ="Acct_Num" FROMINSTANCE ="DEBIT" FROMINSTANCETYPE ="Source Definition" TOFIELD ="Acct_Num" TOINSTANCE ="SQ_DEBIT" TOINSTANCETYPE ="Source Qualifier"/>
        <CONNECTOR FROMFIELD ="Amount" FROMINSTANCE ="DEBIT" FROMINSTANCETYPE ="Source Definition" TOFIELD ="Amount" TOINSTANCE ="SQ_DEBIT" TOINSTANCETYPE ="Source Qualifier"/>
        <CONNECTOR FROMFIELD ="Date_Received" FROMINSTANCE ="DEBIT" FROMINSTANCETYPE ="Source Definition" TOFIELD ="Date_Received" TOINSTANCE ="SQ_DEBIT" TOINSTANCETYPE ="Source Qualifier"/>
        <CONNECTOR FROMFIELD ="Address" FROMINSTANCE ="DEBIT" FROMINSTANCETYPE ="Source Definition" TOFIELD ="Address" TOINSTANCE ="SQ_DEBIT" TOINSTANCETYPE ="Source Qualifier"/>
        <CONNECTOR FROMFIELD ="Acct_Num" FROMINSTANCE ="SQ_DEBIT" FROMINSTANCETYPE ="Source Qualifier" TOFIELD ="Acct_Num" TOINSTANCE ="exp_Date_Compare" TOINSTANCETYPE ="Expression"/>
        <CONNECTOR FROMFIELD ="Amount" FROMINSTANCE ="SQ_DEBIT" FROMINSTANCETYPE ="Source Qualifier" TOFIELD ="Amount" TOINSTANCE ="exp_Date_Compare" TOINSTANCETYPE ="Expression"/>
        <CONNECTOR FROMFIELD ="Date_Received" FROMINSTANCE ="SQ_DEBIT" FROMINSTANCETYPE ="Source Qualifier" TOFIELD ="Date_Received" TOINSTANCE ="exp_Date_Compare" TOINSTANCETYPE ="Expression"/>
        <TARGETLOADORDER ORDER ="1" TARGETINSTANCE ="PAYMENTS"/>
        <ERPINFO/>
    </MAPPING>
</FOLDER>
</REPOSITORY>
</POWERMART>